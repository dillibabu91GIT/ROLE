[defaults]
host_key_checking=False
deprecation_warnings=False
ansible_ssh_common_args='-o StrictHostKeyChecking=no'
ansible_ssh_extra_args='-o StrictHostKeyChecking=no'
#roles_path = roles/
roles_path = roles/:../ansible-1/roles/
comment_warnings=False
command_warnings=False
inventory = inventory.txt
remote_user = ubuntu
interpreter_python=auto
ANSIBLE_DEPRECATION_WARNINGS=False
ANSIBLE_COMMAND_WARNINGS=False
allow_world_readable_tmpfiles=yes
timeout=30
ansible_pipelining=True
ansible cfg
-----------------------------------
workflow
name: Deploy JBoss Server

on:
  workflow_dispatch:

jobs:
  deploy:
    runs-on: self-hosted
    steps:
      - name: Checkout ansible-2 repository
        uses: actions/checkout@v2
        with:
          repository: dillibabu91GIT/ansible-2
          ref: ${{ github.event.inputs.branch }}

      # Remove or comment out the git clone step if you want to use the existing ansible-1 directory

      - name: Clone ansible-1 repository
        run: |
          if [ ! -d "../ansible-1" ]; then
            git clone https://github.com/dillibabu91GIT/ansible-1 ../ansible-1
          else
            echo "Directory ../ansible-1 already exists."
          fi

      - name: Debug Working Directory
        run: |
          ls -al
          pwd
          
      - name: Run Ansible playbook
        env:
          TOKEN_GITHUB: ${{ secrets.TOKEN_GITHUB }}
        run: |
          ansible-playbook -vvv -i inventory.txt playbook/main.yml --extra-vars "GITHUB_WORKSPACE=${{ github.workspace }}"
--------------------------
config file
jboss_controller: "3.109.5.198:9990"
github_token:  "{{ lookup('env', 'TOKEN_GITHUB') }}"
owner: "dillibabu91GIT"
repo: "ansible-2"
branch: "main"
jboss_user: "demo"
jboss_password: "test123"
